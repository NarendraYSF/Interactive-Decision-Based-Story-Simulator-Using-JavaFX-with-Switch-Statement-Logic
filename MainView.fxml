<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="StoryController"
            prefHeight="700.0" prefWidth="800.0"
            stylesheets="@styles.css">
    <top>
        <VBox spacing="10" alignment="CENTER">
            <padding>
                <Insets top="20" right="20" bottom="10" left="20"/>
            </padding>
            <Label text="Interactive Story Simulator" styleClass="title-label"/>
            <HBox spacing="20" alignment="CENTER">
                <Label fx:id="moralityLabel" text="Morality: 0"/>
                <ProgressBar fx:id="moralityBar" progress="0.5" prefWidth="200"/>
                <Label fx:id="inventoryLabel" text="Inventory: Empty"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="story-scroll-pane">
            <VBox alignment="CENTER" spacing="20">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                <Label fx:id="storyTextLabel" wrapText="true" styleClass="story-text"/>

                <!-- Added scene image container -->
                <VBox alignment="CENTER" styleClass="image-container">
                    <ImageView fx:id="sceneImageView" preserveRatio="true" fitWidth="500">
                        <Image url="@images/placeholder.png"/>
                    </ImageView>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>

    <bottom>
        <VBox fx:id="choicesContainer" alignment="CENTER" spacing="10">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Button fx:id="resetButton" text="Play Again" visible="false"/>
        </VBox>
    </bottom>
</BorderPane>